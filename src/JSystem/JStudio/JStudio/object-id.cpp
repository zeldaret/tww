//
// Generated by dtk
// Translation Unit: object-id.cpp
//

#include "JSystem/JStudio/JStudio/object-id.h"
#include "dolphin/types.h"

/* 80274AF8-80274BE8       .text isEqual__Q37JStudio6object7TIDDataFRCQ37JStudio6object7TIDDataRCQ37JStudio6object7TIDData */
bool JStudio::object::TIDData::isEqual(const JStudio::object::TIDData& a, const JStudio::object::TIDData& b) {
    /* Nonmatching - regalloc */
    if (a.getIDSize() != b.getIDSize()) {
        return false;
    }

    u32 bytesRemaining = a.mID_size;
    const void* aStr = a.getID();
    u32* aStr32 = (u32*)aStr;
    const void* bStr = b.getID();
    u32* bStr32 = (u32*)bStr;
    if (aStr == bStr) {  // mismatch here
        // they point to the same id
        return true;
    }

    for (; bytesRemaining >= 4; bytesRemaining -= 4, aStr32++, bStr32++) {
        if (*aStr32 != *bStr32) {
            return false;
        }
    }

    u8* aStrBytes = (u8*)aStr32;
    u8* bStrBytes = (u8*)bStr32;
    switch (bytesRemaining) {
    case 3:
        if (*aStrBytes != *bStrBytes) {
            return false;
        }
        aStrBytes++;
        bStrBytes++;
    case 2:
        if (*aStrBytes != *bStrBytes) {
            return false;
        }
        aStrBytes++;
        bStrBytes++;
    case 1:
        if (*aStrBytes != *bStrBytes) {
            return false;
        }
    }

    return true;
}
