//
// Generated by dtk
// Translation Unit: d_a_obj_buoyrace.cpp
//

#include "d/dolzel_rel.h" // IWYU pragma: keep
#include "d/actor/d_a_obj_buoyrace.h"
#include "d/d_procname.h"
#include "d/d_priority.h"

const char daObjBuoyrace::Act_c::M_arcname_kiba[] = "Kkiba_00";
const char daObjBuoyrace::Act_c::M_arcname_hasi[] = "Khasi_00";
const daObjBuoyrace::Act_c::Attr_c daObjBuoyrace::Act_c::M_attr = {
    /* _00 */ 150.0f,
    /* _04 */ 2.0f,
    /* _08 */ 0.8f,
    /* _0C */ 0.5f,
    /* _10 */ 1.36357345e-36f,
    /* _14 */ 0.3f,
    /* _18 */ 0.02f,
    /* _1C */ 0.04f,
    /* _20 */ 0.35f
};

/* 00000078-0000009C       .text solidHeapCB__Q213daObjBuoyrace5Act_cFP10fopAc_ac_c */
BOOL daObjBuoyrace::Act_c::solidHeapCB(fopAc_ac_c* i_this) {
    return ((Act_c*)i_this)->create_heap();
}

/* 0000009C-000001D0       .text create_heap__Q213daObjBuoyrace5Act_cFv */
bool daObjBuoyrace::Act_c::create_heap() {
    /* Nonmatching */
}

/* 000001D0-00000238       .text create_load__Q213daObjBuoyrace5Act_cFv */
cPhs_State daObjBuoyrace::Act_c::create_load() {
    cPhs_State o_result = dComIfG_resLoad(&field_0x2C4, M_arcname_kiba);

    if (o_result != cPhs_COMPLEATE_e) {
        return o_result;
    }

    o_result = dComIfG_resLoad(&field_0x2CC, M_arcname_hasi);

    if (o_result != cPhs_COMPLEATE_e) {
        return o_result;
    }

    return cPhs_COMPLEATE_e;
}

/* 00000238-00000374       .text _create__Q213daObjBuoyrace5Act_cFv */
cPhs_State daObjBuoyrace::Act_c::_create() {
    fopAcM_SetupActor(this, daObjBuoyrace::Act_c);
    cPhs_State o_result = create_load();
    if (o_result == cPhs_COMPLEATE_e) {
        if (fopAcM_entrySolidHeap(this, &daObjBuoyrace::Act_c::solidHeapCB, 0x980)) {
            set_water_pos();
            f32 tmp = attr()._08 * -attr()._00;
            current.pos.y = field_0x290 + (attr()._0C * cM_ssin(field_0x2A0) + tmp) * attr()._04;
            cullMtx = field_0x2D4->getBaseTRMtx();
            fopAcM_setCullSizeBox(
                this, 
                -1.0f * 76.0f * attr()._04, 
                -1.0f * attr()._04, 
                -1.0f * 76.0f * attr()._04, 
                76.0f * attr()._04, 
                295.0f * attr()._04, 
                76.0f * attr()._04
            );
            init_mtx();
        } else {
            o_result = cPhs_ERROR_e;
        }
    }
    return o_result;
}

/* 00000374-000003C0       .text _delete__Q213daObjBuoyrace5Act_cFv */
bool daObjBuoyrace::Act_c::_delete() {
    dComIfG_resDelete(&field_0x2C4, M_arcname_kiba);
    dComIfG_resDelete(&field_0x2CC, M_arcname_hasi);
    return true;
}

/* 000003C0-000005A0       .text set_mtx__Q213daObjBuoyrace5Act_cFv */
void daObjBuoyrace::Act_c::set_mtx() {
    /* Nonmatching */
}

/* 000005A0-000005C0       .text init_mtx__Q213daObjBuoyrace5Act_cFv */
void daObjBuoyrace::Act_c::init_mtx() {
    set_mtx();
}

/* 000005C0-000006D8       .text set_water_pos__Q213daObjBuoyrace5Act_cFv */
void daObjBuoyrace::Act_c::set_water_pos() {
    /* Nonmatching */
}

/* 000006D8-0000081C       .text afl_calc_sway__Q213daObjBuoyrace5Act_cFv */
void daObjBuoyrace::Act_c::afl_calc_sway() {
    /* Nonmatching */
}

/* 0000081C-00000960       .text afl_calc__Q213daObjBuoyrace5Act_cFv */
void daObjBuoyrace::Act_c::afl_calc() {
    /* Nonmatching */
}

/* 00000960-00000A6C       .text set_rope_pos__Q213daObjBuoyrace5Act_cFv */
void daObjBuoyrace::Act_c::set_rope_pos() {
    /* Nonmatching */
}

/* 00000A6C-00000AAC       .text _execute__Q213daObjBuoyrace5Act_cFv */
bool daObjBuoyrace::Act_c::_execute() {
    set_water_pos();
    afl_calc();
    set_mtx();
    return true;
}

/* 00000AAC-00000B28       .text _draw__Q213daObjBuoyrace5Act_cFv */
bool daObjBuoyrace::Act_c::_draw() {
    g_env_light.settingTevStruct(0, &current.pos, &tevStr);
    g_env_light.setLightTevColorType(field_0x2D4, &tevStr);
    g_env_light.setLightTevColorType(field_0x2D8, &tevStr);
    mDoExt_modelUpdateDL(field_0x2D4);
    mDoExt_modelUpdateDL(field_0x2D8);
    return true;;
}

namespace daObjBuoyrace {
namespace {
/* 00000B28-00000B48       .text Mthd_Create__Q213daObjBuoyrace30@unnamed@d_a_obj_buoyrace_cpp@FPv */
cPhs_State Mthd_Create(void* i_this) {
    return ((daObjBuoyrace::Act_c*)i_this)->_create();
}

/* 00000B48-00000B6C       .text Mthd_Delete__Q213daObjBuoyrace30@unnamed@d_a_obj_buoyrace_cpp@FPv */
BOOL Mthd_Delete(void* i_this) {
    /* Nonmatching */
    return ((daObjBuoyrace::Act_c*)i_this)->_delete();
}

/* 00000B6C-00000B90       .text Mthd_Execute__Q213daObjBuoyrace30@unnamed@d_a_obj_buoyrace_cpp@FPv */
BOOL Mthd_Execute(void* i_this) {
    /* Nonmatching */
    return ((daObjBuoyrace::Act_c*)i_this)->_execute();
}

/* 00000B90-00000BB4       .text Mthd_Draw__Q213daObjBuoyrace30@unnamed@d_a_obj_buoyrace_cpp@FPv */
BOOL Mthd_Draw(void* i_this) {
    /* Nonmatching */
    return ((daObjBuoyrace::Act_c*)i_this)->_draw(); 
}

/* 00000BB4-00000BBC       .text Mthd_IsDelete__Q213daObjBuoyrace30@unnamed@d_a_obj_buoyrace_cpp@FPv */
BOOL Mthd_IsDelete(void*) {
    return TRUE;
}

static actor_method_class Mthd_Table = {
    (process_method_func)Mthd_Create,
    (process_method_func)Mthd_Delete,
    (process_method_func)Mthd_Execute,
    (process_method_func)Mthd_IsDelete,
    (process_method_func)Mthd_Draw,
};
}; // namespace
}; // namespace daObjBuoyrace

actor_process_profile_definition g_profile_Obj_Buoyrace = {
    /* LayerID      */ fpcLy_CURRENT_e,
    /* ListID       */ 0x0007,
    /* ListPrio     */ fpcPi_CURRENT_e,
    /* ProcName     */ PROC_Obj_Buoyrace,
    /* Proc SubMtd  */ &g_fpcLf_Method.base,
    /* Size         */ sizeof(daObjBuoyrace::Act_c),
    /* SizeOther    */ 0,
    /* Parameters   */ 0,
    /* Leaf SubMtd  */ &g_fopAc_Method.base,
    /* Priority     */ PRIO_Obj_Buoyrace,
    /* Actor SubMtd */ &daObjBuoyrace::Mthd_Table,
    /* Status       */ fopAcStts_NOCULLEXEC_e | fopAcStts_CULL_e | fopAcStts_UNK40000_e,
    /* Group        */ fopAc_ACTOR_e,
    /* CullType     */ fopAc_CULLBOX_CUSTOM_e,
};
